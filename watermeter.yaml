esphome:
  name: watermeter

  project:
    name: dasfoo.watermeter
    version: "1.0"

packages:
  device_base: !include templates/esp8266.yaml
  sensor: !include templates/esp8266-vcc.yaml

sensor:
- platform: pulse_meter
  pin:
    number: D2
    inverted: true
    mode:
      input: true
      pullup: true

  name: "Incoming water flow"
  unit_of_measurement: "L/min"
  state_class: "measurement"

  total:
    name: "Incoming water total"
    unit_of_measurement: "L"
    device_class: "water"
    state_class: "total_increasing"
